---
title: linux常用命令记录
date: 2018-07-19 16:24:51
tags: linux
---

## scp

scp(secure copy)命令，用于 Linux 远程拷贝文件。不同于 cp 命令，它支持远程传输。

- 格式： scp [参数][原路径] [目标路径]
- 示例：`scp -r root@192.168.120.204:/opt/soft/mongodb /opt/soft/`
- 参数：
  - -r 递归复制整个目录
  - -1 强制 scp 命令使用协议 ssh1
  - -2 强制 scp 命令使用协议 ssh2
  - -4 强制 scp 命令只使用 IPv4 寻址
  - -6 强制 scp 命令只使用 IPv6 寻址
  - -B 使用批处理模式（传输过程中不询问传输口令或短语）
  - -C 允许压缩。（将-C 标志传递给 ssh，从而打开压缩功能）
  - -p 保留原文件的修改时间，访问时间和访问权限。
  - -q 不显示传输进度条。
  - -r 递归复制整个目录。
  - -v 详细方式显示输出。scp 和 ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。
  - -c cipher 以 cipher 将数据传输进行加密，这个选项将直接传递给 ssh。
  - -F ssh_config 指定一个替代的 ssh 配置文件，此参数直接传递给 ssh。
  - -i identity_file 从指定文件中读取传输时使用的密钥文件，此参数直接传递给 ssh。
  - -l limit 限定用户所能使用的带宽，以 Kbit/s 为单位。
  - -o ssh_option 如果习惯于使用 ssh_config(5)中的参数传递方式，
  - -P port 注意是大写的 P, port 是指定数据传输用到的端口号
  - -S program 指定加密传输时所使用的程序。此程序必须能够理解 ssh(1)的选项。

## ps

ps(process status)，查看系统正在运行的进程的状态。

- 格式： ps [参数]
- 示例： `ps -ef | grep 'sh test.sh'`
- 参数：
  - a 显示所有进程
  - -a 显示同一终端下的所有程序
  - -A 显示所有进程
  - c 显示进程的真实名称
  - -N 反向选择
  - -e 等于“-A”
  - e 显示环境变量
  - f 显示程序间的关系
  - -H 显示树状结构
  - r 显示当前终端的进程
  - T 显示当前终端的所有程序
  - u 指定用户的所有进程
  - -au 显示较详细的资讯
  - -aux 显示所有包含其他使用者的行程
  - -C<命令> 列出指定命令的状况
  - --lines<行数> 每页显示的行数
  - --width<字符数> 每页显示的字符数
  - --help 显示帮助信息
  - --version 显示版本显示

## df

df -lh 查看磁盘使用情况

## du

du -sh 查看文件夹占用磁盘空间 --max-depth=1

## 其他

- ls -lht 查看文件夹内文件信息
- crontab -l -u XXX 列出 XXX 用户的所有定时任务，如有没有会提示 no crontab for XXX
- mv a b 重命名文件
- grep -rn "127.0.0.1" \* 递归查找当前目录下包含指定字符的文件
