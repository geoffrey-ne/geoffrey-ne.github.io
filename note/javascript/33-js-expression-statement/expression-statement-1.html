<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Expression vs Statement(1) | Geoffrey&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://github.githubassets.com/favicons/favicon.png">
    <meta name="description" content="若开始，请至终。">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.62368183.js" as="script"><link rel="preload" href="/assets/js/2.c3c03288.js" as="script"><link rel="preload" href="/assets/js/26.c96ac57b.js" as="script"><link rel="prefetch" href="/assets/js/10.7147ec09.js"><link rel="prefetch" href="/assets/js/11.57de5c6b.js"><link rel="prefetch" href="/assets/js/12.e77dfcb3.js"><link rel="prefetch" href="/assets/js/13.a7c4c8ae.js"><link rel="prefetch" href="/assets/js/14.e429bd27.js"><link rel="prefetch" href="/assets/js/15.bae2a0e3.js"><link rel="prefetch" href="/assets/js/16.91d70fa7.js"><link rel="prefetch" href="/assets/js/17.6a8fd3c8.js"><link rel="prefetch" href="/assets/js/18.e6686c85.js"><link rel="prefetch" href="/assets/js/19.ec651520.js"><link rel="prefetch" href="/assets/js/20.533e9ff9.js"><link rel="prefetch" href="/assets/js/21.167ba4e9.js"><link rel="prefetch" href="/assets/js/22.1e2b4426.js"><link rel="prefetch" href="/assets/js/23.b2668bee.js"><link rel="prefetch" href="/assets/js/24.7915c253.js"><link rel="prefetch" href="/assets/js/25.283f096f.js"><link rel="prefetch" href="/assets/js/27.8037d564.js"><link rel="prefetch" href="/assets/js/28.3b70004a.js"><link rel="prefetch" href="/assets/js/29.3c09e1ab.js"><link rel="prefetch" href="/assets/js/3.6702251e.js"><link rel="prefetch" href="/assets/js/30.20f643dd.js"><link rel="prefetch" href="/assets/js/31.447eab42.js"><link rel="prefetch" href="/assets/js/32.f4b9f4d8.js"><link rel="prefetch" href="/assets/js/33.3b407b4a.js"><link rel="prefetch" href="/assets/js/34.ae8b38f9.js"><link rel="prefetch" href="/assets/js/35.516c9ef1.js"><link rel="prefetch" href="/assets/js/36.01d6b83b.js"><link rel="prefetch" href="/assets/js/37.e4b2971a.js"><link rel="prefetch" href="/assets/js/38.e574b0fc.js"><link rel="prefetch" href="/assets/js/39.24b7e3dc.js"><link rel="prefetch" href="/assets/js/4.0af353d9.js"><link rel="prefetch" href="/assets/js/5.f56d3229.js"><link rel="prefetch" href="/assets/js/6.1fcda4e3.js"><link rel="prefetch" href="/assets/js/7.37e63124.js"><link rel="prefetch" href="/assets/js/8.5bc09c03.js"><link rel="prefetch" href="/assets/js/9.5316b1e7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Geoffrey's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link router-link-active">
  学习笔记
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法学习
</a></div><div class="nav-item"><a href="/fe-interview/" class="nav-link">
  FE-Interview
</a></div> <a href="https://github.com/geoffrey-ne/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link router-link-active">
  学习笔记
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法学习
</a></div><div class="nav-item"><a href="/fe-interview/" class="nav-link">
  FE-Interview
</a></div> <a href="https://github.com/geoffrey-ne/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/note/javascript/professional-javascript-3/04-var-scope-memory" class="sidebar-heading clickable open"><span>JavaScript</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/note/javascript/professional-javascript-3/04-var-scope-memory" class="sidebar-heading clickable"><span>Javascript高级程序设计（第三版）</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/note/javascript/33-js-expression-statement/expression-statement-1" class="sidebar-heading clickable open active"><span>33个js概念（翻译）</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/javascript/33-js-expression-statement/expression-statement-1.html" aria-current="page" class="active sidebar-link">表达式和语句（1）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/33-js-expression-statement/expression-statement-1.html#all-you-need-to-know-about-javascript-s-expressions-statements-and-expression-statements" class="sidebar-link">All you need to know about Javascript's Expressions, Statements and Expression Statements</a></li></ul></li><li><a href="/note/javascript/33-js-expression-statement/expression-statement-2.html" class="sidebar-link">表达式和语句（2）</a></li><li><a href="/note/javascript/33-js-expression-statement/value-vs-reference-1.html" class="sidebar-link">值类型 vs 引用类型（1）</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/note/typescript/01-base" class="sidebar-heading clickable"><span>Typescript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/note/cs/http/qwzn-1" class="sidebar-heading clickable"><span>CS</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="all-you-need-to-know-about-javascript-s-expressions-statements-and-expression-statements"><a href="#all-you-need-to-know-about-javascript-s-expressions-statements-and-expression-statements" class="header-anchor">#</a> All you need to know about Javascript's Expressions, Statements and Expression Statements</h2> <p>标题：关于javascript中的表达式，语句和表达式语句，你所需要知道的一切</p> <p>作者：Promise Tochi</p> <p>原文链接：<a href="https://dev.to/promhize/javascript-in-depth-all-you-need-to-know-about-expressions-statements-and-expression-statements-5k2" target="_blank" rel="noopener noreferrer">点击<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>正文翻译：</p> <p>读完这篇文章，你应该有能力详细说明下面代码是如何执行的，以及为什么它们能生效。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">1</span>	<span class="token comment">// 1</span>
<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">2</span>	<span class="token comment">// 2</span>
<span class="token punctuation">{</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">3</span>	<span class="token comment">// 3</span>
<span class="token punctuation">{</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">-</span> <span class="token number">3</span>	<span class="token comment">// -3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Javascript中有两大句法分类：</p> <ul><li>语句(Statements)</li> <li>表达式(Expressions)</li></ul> <p>区分这两类句法的不同是十分有必要的，因为表达式可以像语句一样表现，这也是为什么我们有表达式语句。然而，语句却不能与表达式表现相同。</p> <h3 id="表达式"><a href="#表达式" class="header-anchor">#</a> 表达式</h3> <h4 id="表达式产出一个值"><a href="#表达式产出一个值" class="header-anchor">#</a> 表达式产出一个值</h4> <p>表达式是一个可以产生单一值作为结果的javascript代码片段。</p> <p>一个表达式，你可以想要它多长就多长，但是它总会返回一个结果值。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">/</span> <span class="token number">2</span>
<span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">20</span>
<span class="token function">functionCall</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>history <span class="token operator">?</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">noHistoryFallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">3</span>
declaredVariable
<span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token function">functionCall</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> declaredVariable
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>上面的所有代码都是表达式，并且可以出现在任何一个需要一个值的地方。所以下面代码<code>console.log</code>函数，将会接受表达式的值作为参数，输出到控制台。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">9</span><span class="token punctuation">)</span>	<span class="token comment">// 18</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="表达式不需要修改状态"><a href="#表达式不需要修改状态" class="header-anchor">#</a> 表达式不需要修改状态</h4> <p>例如，</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> assignedVariable <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>	<span class="token comment">// 这是一个语句， assignedVariable 代表了状态</span>
assignedVariable <span class="token operator">+</span> <span class="token number">4</span>	<span class="token comment">// 表达式</span>
assignedVariable <span class="token operator">*</span> <span class="token number">10</span>	<span class="token comment">// 表达式</span>
assignedVariable <span class="token operator">-</span> <span class="token number">10</span>	<span class="token comment">// 表达式</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>assignedVariable<span class="token punctuation">)</span>	<span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>尽管上述代码包含多个表达式，但是<code>assignedVariable</code>的值仍然是2。所以为什么声明语句需要在这块代码的头部，这是因为虽然函数调用是表达式，但是函数体内可以包含改变状态的语句。所以尽管<code>foo()</code>本身是一个可以返回<code>undefined</code>或者其它值的表达式，但是如果<code>foo</code>函数像下面这样写的话：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    assignedVariable <span class="token operator">=</span> <span class="token number">14</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>那么，即使<code>foo</code>函数的调用是一个表达式，它的调用同样导致了状态的改变。所以一个较好的<code>foo</code>函数和语句的重写应该像这样：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">14</span>	<span class="token comment">// 明确的返回值更具可读性</span>
<span class="token punctuation">}</span>
assignedVariable <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>或者更好的重写方法：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> n	<span class="token comment">// 明确的返回值更具可读性</span>
<span class="token punctuation">}</span>
assignedVariable <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样的写法让代码更具可读性、复用性，并且将表达式和语句清楚的分离开来。这是javascript语言声明式(declearative)和函数式(functional)写法的基础。</p> <h3 id="语句"><a href="#语句" class="header-anchor">#</a> 语句</h3> <p>语句是函数式编程里十分令人头疼的存在😄。基本上讲，语句执行操作，它们是做事情的(statements perform actions, they do things)。</p> <p>在javascript中，语句永远不能用在需要一个值的地方，所以它们不能用作函数参数，右侧赋值，运算符操作，函数返回值。。。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>	<span class="token comment">// js引擎会报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面列出javascript中所有的语句：</p> <ol><li>if</li> <li>if-else</li> <li>while</li> <li>do-while</li> <li>for</li> <li>switch</li> <li>for-in</li> <li>with(已废弃)</li> <li>debugger</li> <li>变量声明</li></ol> <p>如果你把下面的代码输入到浏览器的控制台中，并且敲击回车</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token number">9</span><span class="token operator">+</span><span class="token number">9</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>你会发现它返回18。尽管如此，你仍然不能像一个表达式一样或者javascript中其它需要一个值的地方去使用它。这很奇怪，因为一个语句预期中应该不会返回任何值。这个返回值显得十分无用，因为你无法使用它。这是javascript给你的，很奇怪吧。</p> <h4 id="函数声明-函数表达式和具名函数表达式"><a href="#函数声明-函数表达式和具名函数表达式" class="header-anchor">#</a> 函数声明，函数表达式和具名函数表达式</h4> <p>函数声明是一个语句</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> func<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>函数表达式是一个表达式，通常称为匿名函数</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">// &quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>一个具名的函数表达式与匿名函数相同，也是一个表达式，只不过它有一个名字</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">myName</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">// &quot;myName&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面的总结有助于理解如何区分函数表达式和函数声明：</p> <p><strong>不管何时你在需要一个值的地方声明了一个函数，它会被尝试着当做一个值对待，如果它不能作为一个值，则会报错。</strong></p> <p><strong>不管你在代码全局、模块、或者语句块中的何处（也就是说不需要一个值的地方）声明了一个方法，都会作为一个函数声明对待。</strong></p> <p>比如：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>	<span class="token comment">// 代码块的最上方，声明    </span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>	<span class="token comment">// 全局，声明</span>

<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>	<span class="token comment">// 代码块的最上方，声明</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>	<span class="token comment">// 匿名函数表达式</span>

<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">function</span> <span class="token function">baz</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>	<span class="token comment">// 代码块的最上方，声明</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>	<span class="token comment">// 语法错误：函数声明需要一个名字</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>	<span class="token comment">// 语法错误：函数声明需要一个名字</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="将表达式转换为语句-表达式语句"><a href="#将表达式转换为语句-表达式语句" class="header-anchor">#</a> 将表达式转换为语句：表达式语句</h4> <p>javascript使得任何事情简单明了😃</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>	<span class="token comment">// 表达式语句</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 表达式语句</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>你可以通过在句尾添加分号的方式，将一个表达式转换成表达式语句。或者允许<a href="https://dev.to/promhize/what-you-need-to-know-about-javascripts-automatic-semi-colon-insertion-78a" target="_blank" rel="noopener noreferrer">automatic semi-colon insertion<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>工作。<code>2 + 2</code>本身是一个表达式，但是整行是一个语句。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span>	<span class="token comment">// on its own is an opposition</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span>	<span class="token comment">// 所以你可以在任何需要一个值的地方使用</span>
<span class="token boolean">true</span> <span class="token operator">?</span> <span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span> <span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">}</span>

<span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>	<span class="token comment">// 表达式语句</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">)</span>	<span class="token comment">// 语法错误</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="分号-vs-逗号操作符"><a href="#分号-vs-逗号操作符" class="header-anchor">#</a> 分号 vs 逗号操作符</h4> <p>你可以使用分号将多个表达式放在一行</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> a<span class="token punctuation">;</span> <span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>逗号操作符允许你将多个表达式连接(chain)在一起，只返回最后一个表达式的值</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>	<span class="token comment">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>	<span class="token comment">// function () {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>	<span class="token comment">// 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>注：一种告诉javascript引擎这里需要一个值的方式是通过圆括号，()，如果去掉圆括号，每一个表达式都会本当做console.log函数的参数使用。</p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">// 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>所有的表达式都会按照从左到右的顺序被执行，然后会返回最后一个的值。</p> <h4 id="自执行函数-iifes-immediately-invoked-function-expressions"><a href="#自执行函数-iifes-immediately-invoked-function-expressions" class="header-anchor">#</a> 自执行函数(IIFEs: Immediately Invoked Function Expressions)</h4> <p>如果我们把一个匿名函数放在一个需要值的地方，那么它就可以转变为一个表达式。这意味着如果我们使用圆括号告诉javascript引擎这里需要一个值，那么可以传递一个匿名函数来当做这个值。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>所以上面的代码是无效的，但是下面的代码却是有效的</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>	<span class="token comment">// 这里返回 function () {}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果使用圆括号包裹一个匿名函数会返回这个函数本身，那么这意味着我们可以直接调用它，像这样：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 做一些事情</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>所以，下面这些代码也是可能的</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;immediately invoke anonymous function call&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>	<span class="token comment">// &quot;immediately invoke anonymous function call&quot;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">// 3</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">// 3</span>

<span class="token comment">// 同样可以给立即执行函数传递参数</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&quot;I'm an argument&quot;</span><span class="token punctuation">)</span>	<span class="token comment">// &quot;I'm an argument&quot;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="对象字面量-vs-块级语句"><a href="#对象字面量-vs-块级语句" class="header-anchor">#</a> 对象字面量 vs 块级语句</h4> <blockquote><p>注：这在javascript中是合法的</p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>r<span class="token operator">:</span> <span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span>	<span class="token comment">// 合法的</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面的代码是全局作用域下的语句列，它们会被当做合法的javascript代码并且被执行。你可以称<code>r</code>为一个标签(label)，它在中断循环上是最有用的。比如：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 译者注：此处没有看懂</span>
loop<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span> loop	<span class="token comment">// 中断外层循环，停止这个循环</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>你可以在任意表达式或者表达式语句前面添加标签，但是注意，这种做法不是在定义一个变量：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">lab</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">a</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lab<span class="token punctuation">)</span>	<span class="token comment">// ReferenceError: lab is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>大括号，{}，允许你将表达式语句和语句放在一起，所以你可以这样写：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">;</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">}</span>	<span class="token comment">// 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将上述代码粘贴到控制台会返回4，并且当执行<code>console.log(a)</code>，会得到字符串<code>b</code>。你可以称这样代码为一个块级语句，这和对象字面量(object liteal)是有区别的。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>	<span class="token comment">// {a: 'b'}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>	<span class="token comment">// SyntaxError</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">}</span>	<span class="token comment">// SyntaxError</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>不能把块级语句当做一个值或者一个表达式。console.log是一个方法，它不能接受一个语句作为参数。但是它可以接受对象字面量作为参数。</p> <p>我希望你理解了我上面的解释，因为下面的代码可能会把你弄晕。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">1</span>	<span class="token comment">// 1</span>
<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">2</span>	<span class="token comment">// 2</span>
<span class="token punctuation">{</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">3</span>	<span class="token comment">// 3</span>
<span class="token punctuation">{</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">-</span> <span class="token number">3</span>	<span class="token comment">// -3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>也许你期望这段代码报错或者分别返回1, 4, 7。记住，语句不会有任何返回值因为它们不能当做一个值使用。所以javascript认为，比起抛出异常，不如将它当做加法操作符的一个操作数，数字或者一个字符串，如果转换失败就会报错。所以不管块级语句返回什么，都会作为一个操作数被隐式转换为0。</p> <p>Whew，如果你全部读完了，你就是真正的MVP。这或许是关于javascript中的表达式，语句和表达式语句，你所需要知道的一切。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新于:</span> <span class="time">3/11/2021, 9:33:26 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/javascript/professional-javascript-3/21-Ajax-Comet.html" class="prev">
        21. Ajax与Comet
      </a></span> <span class="next"><a href="/note/javascript/33-js-expression-statement/expression-statement-2.html">
        表达式和语句（2）
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.62368183.js" defer></script><script src="/assets/js/2.c3c03288.js" defer></script><script src="/assets/js/26.c96ac57b.js" defer></script>
  </body>
</html>
